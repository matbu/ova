- project:
    templates:
      - openstack-python3-victoria-jobs
      - check-requirements
      - openstack-lower-constraints-jobs
    check:
      jobs:
      - openstack-tox-linters: &tripleo-linters
          nodeset: centos-8
      - openstack-tox-docs: &tripleo-docs
          files:
          - ^doc/.*
          - ^README.rst
      - tripleo-ci-centos-8-containers-multinode: &containers_multinode
          dependencies: &deps
            - openstack-tox-linters
          files: &containers_files
          - ^validations_libs/.*
          irrelevant-files: &irrelevant_scenario_files
          - .*.md$
          - .*.rst$
          - .*.txt$
          - .*.ini$
          - ^validations_libs/tests/.*
      - tripleo-ci-centos-8-standalone: &basic_standalone
          dependencies: *deps
          files: *containers_files
          irrelevant-files: *irrelevant_scenario_files
    gate:
      jobs:
      - openstack-tox-linters: *tripleo-linters
      - openstack-tox-docs: *tripleo-docs
      - tripleo-ci-centos-8-containers-multinode: *containers_multinode
      - tripleo-ci-centos-8-standalone: *basic_standalone
    promote:
      jobs:
      - promote-openstack-tox-docs: *tripleo-docs
